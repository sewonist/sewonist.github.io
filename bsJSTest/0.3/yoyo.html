<!DOCTYPE html>
<html lang="ko">
<head>
<title>rain</title>
<meta name="keywords" content="bs5"/>
<meta name="description" content="bs5 Test suite"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<meta name="viewport"
	  content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,target-densitydpi=medium-dpi"/>
<link rel="shortcut icon" href="http://blog.bsidesoft.com/favicon.ico" type="image/x-icon">
</head>
<body>
<script src="../../bsJS/bsjs.0.3.js"></script>
<script>
bs( function(){
	var inited, f = bs.randf;
	bs.Css('body,div').S( 'margin', 0, 'overflow', 'hidden', 'background-color', '#000' ),
	bs.Css('.rain').S( 'position', 'absolute', 'width', 1, 'background-color', '#fff' );
	bs.Css('.circle').S( 'position', 'absolute', 'border-radius', 50, 'background', '#fff', 'transform','rotateX(120deg)' );
	
	bs.Dom('<div id="title"></div>').S( '<', 'body', 'html', 'RainDemo', 'position', 'absolute', 'text-align', 'center', 'color', '#fff', 'font-size', 30 );
	
	bs.WIN.sizer( function( w, h ){
		var i;
		bs.Dom('#title').S( 'top', h * .5 - 100, 'left', w * .5 - 100 );
		if( inited ) return;
		inited = true, i = 150;
		while( i-- ){
			// 비 표현
			bs.ANI.tween(
				bs.Dom('<div class="rain"></div>').S( '<', 'body', 'left', f( 0, w ), 'top', -1, 'height', 1, 'opacity', 1, 'this' ),
				'yoyo', 1, 'top', h - f( 50, 150 ), 'height', 50, 'opacity', 0, 'ease', 'sineIn', 'delay', f( 0, 3 ), 'time', 2, 'loop', 0
			)
			// 물퍼짐 표현
			bs.ANI.tween(
				bs.Dom('<div class="circle"></div>').S( '<', 'body', 'left', f( 0, w ),'top', h - f( 50, 150 ), 'width', 1, 'height', 1,  'opacity', 0.2, 'this' ),
				'width',40,'height', 40, 'opacity', 0, 'ease', 'sineOut', 'delay', f( 0, 3 ), 'time', 1, 'loop', 0
			)
		}
	})
});
</script>
</body>
</html>