<!DOCTYPE html>
<html lang="ko">
<head>
<title>bs5 Test suite</title>
<meta name="keywords" content="bs5" />
<meta name="description" content="bs5 Test suite" />
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,target-densitydpi=medium-dpi" />
<link rel="shortcut icon" href="http://blog.bsidesoft.com/favicon.ico" type="image/x-icon">
</head>
<body>
<div id="result"></div>
<div id="test"></div>
<script src="../../bsJS/bsjs.0.3.js"></script>
<script src="../bsTest.js"></script>
<script src="./printer.js"></script>
<script>
bs( function(){
	var nodes;
	bsTest( 'dom method',
		"bs.Dom( '&lt;a href=\"#\"&gt;links&lt;/a&gt;' ).S( 'html' )", 'links', bs.Dom( '<a href="#">links</a>' ).S( 'html' ).toLowerCase(),
		"bs.Dom( '&lt;abbr&gt;who&lt;/abbr&gt;' ).S( 'html' )", 'who', bs.Dom( '<abbr title="World Health Organization">who</abbr>' ).S( 'html' ).toLowerCase(),
		"bs.Dom( '&lt;address&gt;text&lt;/address&gt;' ).S( 'html' )", 'text', bs.Dom( '<address>text</address>' ).S( 'html' ).toLowerCase(),
		"bs.Dom( '&lt;area shape=\"rect\" /&gt;' ).S( '@shape' )", 'rect', bs.Dom( '<area shape="rect" />' ).S( '@shape' ).toLowerCase(),
		"bs.Dom( '&lt;b&gt;text&lt;/b&gt;' ).S( 'html' )", 'text', bs.Dom( '<b>text</b>' ).S( 'html' ).toLowerCase(),
		"bs.Dom( '&lt;bdo&gt;text&lt;/bdo&gt;' ).S( 'html' )", 'text', bs.Dom( '<bdo>text</bdo>' ).S( 'html' ),
		"bs.Dom( '&lt;blockquote&gt;text&lt;/blockquote&gt;' ).S( 'html' )", 'text', bs.Dom( '<blockquote>text</blockquote>' ).S( 'html' ),
		"bs.Dom( '&lt;button&gt;text&lt;/button&gt;' ).S( 'html' )", 'text', bs.Dom( '<button>text</button>' ).S( 'html' ),
		"bs.Dom( '&lt;cite&gt;text&lt;/cite&gt;' ).S( 'html' )", 'text', bs.Dom( '<cite>text</cite>' ).S( 'html' ),
		"bs.Dom( '&lt;code&gt;text&lt;/code&gt;' ).S( 'html' )", 'text', bs.Dom( '<code>text</code>' ).S( 'html' ),
		"bs.Dom( '&lt;del&gt;text&lt;/del&gt;' ).S( 'html' )", 'text', bs.Dom( '<del>text</del>' ).S( 'html' ),
		"bs.Dom( '&lt;dfn&gt;text&lt;/dfn&gt;' ).S( 'html' )", 'text', bs.Dom( '<dfn>text</dfn>' ).S( 'html' ),
		"bs.Dom( '&lt;em&gt;text&lt;/em&gt;' ).S( 'html' )", 'text', bs.Dom( '<em>text</em>' ).S( 'html' ),
		"bs.Dom( '&lt;h1&gt;text&lt;/h1&gt;' ).S( 'html' )", 'text', bs.Dom( '<h1>text</h1>' ).S( 'html' ),
		"bs.Dom( '&lt;i&gt;text&lt;/i&gt;' ).S( 'html' )", 'text', bs.Dom( '<i>text</i>' ).S( 'html' ),
		"bs.Dom( '&lt;iframe  src=\"http://www.naver.com/\"&gt;&lt;/iframe&gt;' ).S( '@src' )", 'http://www.naver.com/', bs.Dom( '<iframe  src="http://www.naver.com/"></iframe>' ).S( '@src' ).toLowerCase(),
		"bs.Dom( '&lt;img  src=\"http://www.naver.com/\" /&gt;' ).S( '@src' )", 'http://www.naver.com/', bs.Dom( '<img  src="http://www.naver.com/" />' ).S( '@src' ).toLowerCase(),
		"bs.Dom( '&lt;ins&gt;text&lt;/ins&gt;' ).S( 'html' )", 'text', bs.Dom( '<ins>text</ins>' ).S( 'html' ),
		"bs.Dom( '&lt;kbd&gt;text&lt;/kbd&gt;' ).S( 'html' )", 'text', bs.Dom( '<kbd>text</kbd>' ).S( 'html' ),
		"bs.Dom( '&lt;p&gt;text&lt;/p&gt;' ).S( 'html' )", 'text', bs.Dom( '<p>text</p>' ).S( 'html' ),
		"bs.Dom( '&lt;pre&gt;text&lt;/pre&gt;' ).S( 'html' )", 'text', bs.Dom( '<pre>text</pre>' ).S( 'html' ),
		"bs.Dom( '&lt;q&gt;text&lt;/q&gt;' ).S( 'html' )", 'text', bs.Dom( '<q>text</q>' ).S( 'html' ),
		"bs.Dom( '&lt;s&gt;text&lt;/s&gt;' ).S( 'html' )", 'text', bs.Dom( '<s>text</s>' ).S( 'html' ),
		"bs.Dom( '&lt;samp&gt;text&lt;/samp&gt;' ).S( 'html' )", 'text', bs.Dom( '<samp>text</samp>' ).S( 'html' ),
		"bs.Dom( '&lt;small&gt;text&lt;/small&gt;' ).S( 'html' )", 'text', bs.Dom( '<small>text</small>' ).S( 'html' ),
		"bs.Dom( '&lt;strong&gt;text&lt;/strong&gt;' ).S( 'html' )", 'text', bs.Dom( '<strong>text</strong>' ).S( 'html' ),
		"bs.Dom( '&lt;sub&gt;text&lt;/sub&gt;' ).S( 'html' )", 'text', bs.Dom( '<sub>text</sub>' ).S( 'html' ),
		"bs.Dom( '&lt;sup&gt;text&lt;/sup&gt;' ).S( 'html' )", 'text', bs.Dom( '<sup>text</sup>' ).S( 'html' ),
		"bs.Dom( '&lt;u&gt;text&lt;/u&gt;' ).S( 'html' )", 'text', bs.Dom( '<u>text</u>' ).S( 'html' ),
		"bs.Dom( '&lt;var&gt;text&lt;/var&gt;' ).S( 'html' )", 'text', bs.Dom( '<var>text</var>' ).S( 'html' ),
		"bs.Dom( '&lt;div&gt;&lt;span&gt;text2&lt;/span&gt;&lt;/div&gt;' ).S( 'html' )", '<span>text</span>', bs.Dom( '<div><span>text</span></div>' ).S( 'html' ).toLowerCase(),
		"bs.Dom( '&lt;div&gt;text&lt;/div&gt;' ).S( 'html', '&lt;span&gt;text&lt;/span&gt;'  )", '<span>text</span>', bs.Dom( '<div>text</div>' ).S( 'html', '<span>text</span>' ).toLowerCase(),
		"bs.Dom( '&lt;tr&gt;&lt;td&gt;text&lt;/td&gt;&lt;/tr&gt;' ).S( 'html', '&lt;td&gt;text&lt;/td&gt;' )", '<td>text</td>', bs.Dom( '<tr><td>text</td></tr>' ).S( 'html', '<td>text</td>' ).toLowerCase(),
		"bs.Dom( '&lt;tr&gt;&lt;td&gt;text&lt;/td&gt;&lt;/tr&gt;' ).S( 'html+', '&lt;td&gt;next&lt;/td&gt;' )", '<td>text</td><td>next</td>', bs.Dom( '<tr><td>text</td></tr>' ).S( 'html+', '<td>next</td>' ).toLowerCase().replace(/\s/g,''),
		"bs.Dom( '&lt;tr&gt;&lt;td&gt;text&lt;/td&gt;&lt;/tr&gt;' ).S( '+html', '&lt;td&gt;prev&lt;/td&gt;' )", '<td>prev</td><td>text</td>', bs.Dom( '<tr><td>text</td></tr>' ).S( '+html', '<td>prev</td>' ).toLowerCase().replace(/\s/g,''),
		"bs.Dom( '&lt;table&gt;&lt;/table&gt;' ).S( '+html', '&lt;caption&gt;&lt;/caption&gt;' )", '<caption></caption>', bs.Dom( "<table></table>" ).S( '+html', '<caption></caption>').toLowerCase().replace(/\s/g,'')
	);
	bsTest.tear( 'TABLE 구조생성', function(){
		bs.Dom( '<table border="1"></table>' ).S(
			'<', 'body',
			'html', '<tr><td>cell1</td></tr><tr><td>cell2</td></tr>'
		);
	} );
	bsTest( 'TBODY 요소 자동생성',
		function(){
			nodes = bs.Dom( 'table' ).S('>');
		 	return nodes[0].tagName;
		}, 'TBODY'
	);
	bsTest( 'THEAD 요소 추가생성',
		function(){
			bs.Dom( 'table' ).S( '+html', '<thead><tr><th>title1</th></tr><tr><th>title2</th></tr></thead>' );
			nodes = bs.Dom( 'table' ).S('>');
		 	return nodes[0].tagName;
		}, 'THEAD'
	);
	bsTest( 'COLGROUP 요소 추가생성',
		function(){
			bs.Dom( 'table' ).S( '+html', '<colgroup><col style="width:100px;" /><col style="width:150px;" /></colgroup>' );
			nodes = bs.Dom( 'table' ).S('>');
		 	return nodes[0].tagName;
		}, 'COLGROUP'
	);
	bsTest( 'CAPTION 요소 추가생성',
		function(){
			bs.Dom( 'table' ).S( '+html', '<caption>표제목</caption>' );
			nodes = bs.Dom( 'table' ).S('>');
		 	return nodes[0].tagName;
		}, 'CAPTION'
	);
	bsTest( '의도치 않은 TBODY 요소가 생성되지 않았는가',
		function(){
			return document.getElementsByTagName('table')[0].getElementsByTagName('tbody').length;
		}, 1
	);
	bsTest.tear( 'SELECT 구조생성', function(){
		bs.Dom( '<select id="testSelect"></select>' ).S(
			'<', 'body'
		);
	} );
	bsTest( 'OPTGROUP 요소 추가생성',
		function(){
			bs.Dom( '#testSelect' ).S( 'html', '<optgroup label="그룹1"></optgroup>' );
			nodes = bs.Dom( '#testSelect' ).S('>');
		 	return nodes[0].tagName;
		}, 'OPTGROUP'
	);
	bsTest( 'OPTION 요소 추가생성',
		function(){
			bs.Dom( 'optgroup' ).S( 'html', '<option value="">option1</option><option value="">option2</option><option value="">option3</option>' );
			nodes = bs.Dom( 'optgroup' ).S('>');
		 	return nodes[0].tagName;
		}, 'OPTION'
	);
	bsTest( 'OPTGROUP 요소의 직계 자손의 갯수는 3개인가',
		"bs.Dom( '&lt;optgroup&gt;' ).S( '>' ).length", 3, bs.Dom( 'optgroup' ).S( '>' ).length
	);
	bsTest.tear( 'UL 구조생성', function(){
		bs.Dom( '<ul class="testUl"></ul>' ).S(
			'<', 'body'
		);
	} );
	bsTest( 'LI 요소 추가생성',
		function(){
			bs.Dom( '.testUl' ).S( 'html', '<li>list</li><li>list</li>' );
			nodes = bs.Dom( '.testUl' ).S('>');
		 	return nodes[0].tagName;
		}, 'LI'
	);
	bsTest.tear( 'DL 구조생성', function(){
		bs.Dom( '<dl class="testDl"></dl>' ).S(
			'<', 'body'
		);
	} );
	bsTest( 'DT 요소 추가생성',
		function(){
			bs.Dom( '.testDl' ).S( 'html', '<dt>terms</dt>' );
			nodes = bs.Dom( '.testDl' ).S('>');
		 	return nodes[0].tagName;
		}, 'DT'
	);
	bsTest( 'DD 요소 추가생성',
		function(){
			bs.Dom( '.testDl' ).S( 'html+', '<dd>text</dd>' );
			nodes = bs.Dom( '.testDl' ).S('>');
		 	return nodes[1].tagName;
		}, 'DD'
	);
	bsTest.tear( 'FORM 구조생성', function(){
		bs.Dom( '<form class="testForm"></form>' ).S(
			'<', 'body'
		);
	} );
	bsTest( 'FIELDSET 요소 추가생성',
		function(){
			bs.Dom( '.testForm' ).S( 'html', '<fieldset></fieldset>' );
			nodes = bs.Dom( '.testForm' ).S('>');
		 	return nodes[0].tagName;
		}, 'FIELDSET'
	);
	bsTest( 'LEGEND 요소 추가생성',
		function(){
			bs.Dom( 'fieldset' ).S( 'html', '<legend>text</legend>' );
			nodes = bs.Dom( 'fieldset' ).S('>');
		 	return nodes[0].tagName;
		}, 'LEGEND'
	);
	bsTest( 'LABEL 요소 추가생성',
		function(){
			bs.Dom( 'fieldset' ).S( 'html+', '<label for="lb01">text</label>' );
			nodes = bs.Dom( 'fieldset' ).S('>');
		 	return nodes[1].tagName;
		}, 'LABEL'
	);
	bsTest( 'INPUT:text 요소 추가생성',
		function(){
			bs.Dom( 'fieldset' ).S( 'html+', '<input type="text" id="lb01" />' );
			nodes = bs.Dom( 'fieldset' ).S('>');
		 	return nodes[2].tagName;
		}, 'INPUT'
	);
	bsTest( 'INPUT:submit 요소 추가생성',
		function(){
			bs.Dom( 'fieldset' ).S( 'html+', '<input type="submit" />' );
			nodes = bs.Dom( 'fieldset' ).S('>');
		 	return nodes[3].tagName;
		}, 'INPUT'
	);
	bsTest( 'TEXTAREA 요소 추가생성',
		function(){
			bs.Dom( 'fieldset' ).S( 'html+', '<textarea rows="" cols=""></textarea>' );
			nodes = bs.Dom( 'fieldset' ).S('>');
		 	return nodes[4].tagName;
		}, 'TEXTAREA'
	);
	bsTest( 'FIELDSET 요소의 직계 자손의 갯수는 5개인가',
		"bs.Dom( '&lt;fieldset&gt;' ).S( '>' ).length", 5, bs.Dom( 'fieldset' ).S( '>' ).length
	);
	bsTest.tear( "다중 요소 삭제", function(){
		bs.Dom( ['table', '#testSelect', '.testUl', '.testDl', '.testForm'] ).S( null );
	} );
	bsTest( '요소가 전부 삭제 되었는가',
		function(){
		 	return document.getElementsByTagName('table').length + document.getElementsByTagName('select').length + document.getElementsByTagName('ul').length + document.getElementsByTagName('dl').length + document.getElementsByTagName('form').length;
		}, 0
	);
} );
</script>
</body>
</html>
