<!DOCTYPE html>
<html lang="ko">
<head>
    <title>bs5 Test suite</title>
    <meta name="keywords" content="bs5" />
    <meta name="description" content="bs5 Test suite" />
    <meta charset="utf-8"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,target-densitydpi=medium-dpi" />
    <link rel="shortcut icon" href="http://blog.bsidesoft.com/favicon.ico" type="image/x-icon">
    <style type="text/css">
        .box {
            border: 2px solid gray;
            display: inline-block;
            width: 18px;
            height: 18px;
            -webkit-transition:width 0.3s, height 0.3s, background-color 0.3s, -webkit-transform 0.3s;
            transition:width 0.3s, height 0.3s, background-color 0.3s, transform 0.3s;
        }
        .checked {
            -webkit-transform: rotate(45deg);
            transform: rotate(45deg);
            width: 10px;
            height: 21px;
            border-top: none;
            border-left: none;
            border-right-width: 2px;
            border-bottom-width: 2px;
            border-color: #0f9d58;
        }
    </style>
</head>
<body>
<div id="stage">
    <form data-bsview="f0">
        <input type="checkbox" name="cb0" id="cb0_0" value="0"/><label for="cb0_0"> label0</label>
        <input type="checkbox" name="cb0" id="cb0_1" value="1"/><label for="cb0_1"> label1</label>
        <input type="checkbox" name="cb0" id="cb0_2" value="2"/><label for="cb0_2"> label2</label>
    </form>
</div>
<div id="result"></div>
<div id="test"></div>
<script src="http://projectbs.github.io/bsJS/bsjs.0.5.js"></script>
<script>    
    bs( function(){
        var forms = {}, t0, t1, t2, i, j, k, l;
        for( i = 0, j = bs.Dom('[data-bsview]').length ; i < j ; i++ ){
            forms[bs.Dom('[data-bsview]').S( i, '*bsview' )] = t0 = bs.Dom('[data-bsview]')[i];
            t0 = bs.Dom(t0).S('>');
            for( k = 0, l = t0.length ; k < l ; k++ ){
                t1 = bs.Dom(t0[k]);
                switch( t1.S('@tagName').toLowerCase() ){
                    case'input':
                        switch( t1.S('@type').toLowerCase() ){
                            case'checkbox':
                                t2 = init(t1);
                                clickEvent(t2);
                                connectEvent(t1, t2);
                                break;
                        }
                        break;
                    case'textarea':
                    case'select':
                    case'label':
                }
            }
        }

        function init(component){
            var bsitem = bs.Dom('<div></div>').S( '@class', 'box', 'this' );

            component.S( 'opacity', 0, 'width', 0, 'height', 0, 'after', bsitem );

            return bsitem;
        }

        function clickEvent(component){
            component.S( 'click', function(e){
                var bsitem = bs.Dom(e.dom),
                    origin = bs.Dom(bsitem.S('before')),
                    value = origin.S('@checked');

                origin.S( '@checked', !value );
                //bsitem.S( '@class', !value ? 'box checked' : 'box' );
                bs.ANI.style( bsitem.S( 'width', 18, 'this' ), 'width', 21, 'time', 0.3, 'ease', 'backOut' );
            } );
        }

        function connectEvent(c1, c2){

        }
    } );
</script>
</body>
</html>