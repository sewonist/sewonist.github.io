<!DOCTYPE html>
<html lang="ko">
<head>
<title>bs5 Test suite</title>
<meta name="keywords" content="bs5" />
<meta name="description" content="bs5 Test suite" />
<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,target-densitydpi=medium-dpi" />
<link rel="shortcut icon" href="http://blog.bsidesoft.com/favicon.ico" type="image/x-icon">
</head>
<body>
<div id="stage">
<form data-bsview="f0">
	<input type="button" name="btn0" id="btn0" value="my button0" />
</form>
</div>
<script src="../../../../bsJS/bsjs.0.5.js"></script>
<script src="./oopchoiView.js"></script>
<script>
bs( function(){
    var forms = {}, bsviewData, currentForm, children, child, currentButton, t0, t1, t2, t3, t4, t5, i, j, k, l;

    for(i=0, j=bs.Dom('[data-bsview]').length; i<j; i++){
        bsviewData = bs.Dom('[data-bsview]').S(i, '*bsview');
        forms[bsviewData] = currentForm = bs.Dom('[data-bsview]')[i];

        children = bs.Dom(currentForm).S('>');
        for(k=0, l=children.length; k<l; k++){
            (child = bs.Dom(children[k])).S('display', 'none');

            console.log('------' + k + '------');
            console.log(child);

            switch( child.S('@tagName').toLowerCase() ){
                case "input":
                    switch( child.S('@type').toLowerCase() ){
                        case "button":
                            currentButton = bs.Dom('<canvas></canvas>').S('@id', 'cvs_'+child[0].id, '@width', 200, '@height', 50, 'display', 'inline', '*bsview-element', child.S('*bs'), 'this' );
                            child.S( 'after', currentButton );
                            bs.Button('cvs_'+child[0].id).context = currentButton[0].getContext('2d'),
                            bs.Button('cvs_'+child[0].id).label = child[0].value,
                            bs.Button('cvs_'+child[0].id).width = 200,
                            bs.Button('cvs_'+child[0].id).height = 50,
                            bs.Button('cvs_'+child[0].id).fontSize = 12,
                            bs.Button('cvs_'+child[0].id).fontFamily = 'gulim',
                            bs.Button('cvs_'+child[0].id).fillStyle = 'yellow',
                            bs.Button('cvs_'+child[0].id).lineWidth = 3,
                            bs.Button('cvs_'+child[0].id).strokeStyle = 'black',
                            bs.Button('cvs_'+child[0].id).fontX = 20,
                            bs.Button('cvs_'+child[0].id).fontY = 20,
                            bs.Button('cvs_'+child[0].id).fontColor = 'black',
                            bs.Button('cvs_'+child[0].id).draw();
                    }
                    break;
            }
        }
    }
    console.log(forms);

    t0 = bs.Dom('[data-bsview-element]');
    for(i=0, j=t0.length; i<j; i++){
        t1 = bs.Dom(bs.Dom('[data-bsview-element]')[i]).S('*bsview-element');
        t2 = bs.Dom('[data-bs]');
        for(k=0, l=t2.length; k<l; k++){
            if( t1== bs.Dom(bs.Dom('[data-bs]')[k]).S('*bs')){
                console.log('-----found input tag-----')
                console.log(t1);
                console.log(bs.Dom(bs.Dom('[data-bs]')[k])[0]);
            }
        }
    }

//	bs.Vdom.test();
} );
</script>
</body>
</html>
